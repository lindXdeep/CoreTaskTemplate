<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>Hello Controller</title>
    <link th:href="@{/css/main.css}" href="/css/main.css" rel="stylesheet" />
</head>

<body>
    <div id="outer">
        <div class="inner">
            <div th:each=" msg : ${messages}" style="padding-top: 5%;">
                <p style="font-size: x-large;" th:text="${msg}">message</p>
            </div>
            <div>
                <p>
                    <a id="btn" href="/create">Create Cars and Users</a>
                </p>
            </div>
            <div>
                <p>
                    <a id="btn" href="/">Main</a>
                    <a id="btn" href="/users/new">New User</a>
                    <a id="btn" href="/users">All Users</a>
                    <a id="btn" href="/cars">All Cars</a>
                </p>
            </div>
            <div th:if="${cars != null}" id="main">
                <span>Car filter: </span>
                <th:block th:each="i: ${#numbers.sequence(1, 5)}">
                    <a id="btn-1" th:href="@{/cars?count={x}(x=${i})}" th:text="${i}"> </a>
                </th:block>
            </div>
            <div th:if="${cars != null}" id="main">
                <table>

                    <head>
                        <tr>
                            <th>id</th>
                            <th>Model</th>
                            <th>Series</th>
                            <th> <a id="ath" href="/users">Owner</a></th>
                        </tr>
                    </head>

                    <body>
                        <tr th:each=" car : ${cars}">
                            <td>
                                <span th:text="${car.getId()}">id</span>
                            </td>
                            <td>
                                <a th:href="@{/car/{id} ( id=${car.getId()} ) }" th:text="${car.getModel()}">model</a>
                            </td>
                            <td>
                                <a th:href="@{/car/{id} ( id=${car.getId()} ) }" th:text="${car.getSeries()}">series</a>
                            </td>
                            <td>
                                <a th:href="@{/user/{id} (id=${car.getOwner().getId() } ) }" th:text="${car.getOwner().getFirstName() + ' ' + car.getOwner().getLastName()}"> owner </a>
                            </td>
                            <td>
                                <form th:method="delete" th:action="@{/user/{id} (id = ${car.getOwner().getId()})}">
                                    <input id="pic" type="image" name="submit" src="/img/del0.png" border="0" alt="Submit" style="width: 24px;" />
                                </form>
                            </td>
                        </tr>
                    </body>
                </table>
            </div>
            <div th:if="${users != null}" id="main">
                <table>

                    <head>
                        <tr>
                            <th>id</th>
                            <th>First name</th>
                            <th>Last Name</th>
                            <th>Email</th>
                            <th> <a id="ath" href="/cars">Car</a></th>
                        </tr>
                    </head>

                    <body>
                        <tr th:each=" user : ${users}">
                            <td>
                                <span th:text="${user.getId()}">id</span>
                            </td>
                            <td>
                                <a th:href="@{/user/{id} ( id=${user.getId()} ) }" th:text="${user.getFirstName()}">name</a>
                            </td>
                            <td>
                                <a th:href="@{/user/{id} ( id=${user.getId()} ) }" th:text="${user.getLastName()}">last</a>
                            </td>
                            <td>
                                <span th:text="${user.getEmail()}"> email </span>
                            </td>
                            <td>
                                <a th:href="@{/car/{id} (id=${user.getCar().getId()}) }" th:text="${user.getCar().getModel() + ' ' + user.getCar().getSeries()}"> car </a>
                            </td>
                            <td>
                                <form th:method="delete" th:action="@{/user/{id} (id = ${user.getId()})}">
                                    <input id="pic" type="image" name="submit" src="/img/del0.png" border="0" alt="Submit" style="width: 24px;" />
                                </form>
                            </td>
                        </tr>
                    </body>
                </table>
            </div>
        </div>
    </div>
</body>

</html>